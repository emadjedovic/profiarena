Project Profiarena {
    database_type: 'PostgreSQL'
}

Table Users {
    id              serial [pk]
    email           varchar(50) [unique, not null]
    password        varchar(50) [not null]
    role            varchar(50) [not null]
    first_name      varchar(50) [not null]
    last_name       varchar(50) [not null]
    phone           varchar(15)
    address         text
    date_of_birth   date
    company_name    varchar(255)
    education       text
    skills          text
    languages       text
}

Table Job_Postings {
    id                  serial [pk]
    title               varchar(100) [not null]
    description         text [not null]
    hr_id               int [not null, ref: > Users.id]
    location            varchar(100)
    application_deadline date
    status              varchar(50) [default: 'active']
    required_fields     jsonb
    company             varchar(100) [not null]
}

Table Applications {
    id                  serial [pk]
    candidate_id        int [not null, ref: > Users.id]
    job_posting_id      int [not null, ref: > Job_Postings.id]
    status              varchar(50) [default: 'applied']
    submitted_at        timestamp [default: `now()`]
    cv                  varchar(255)
    cover_letter        varchar(255)
    portfolio           varchar(255)
    certificates        varchar(255)
}

Table Application_Score {
    id                  serial [pk]
    application_id      int [not null, ref: > Applications.id]
    hr_id int [not null, ref: > Users.id]
    candidate_id        int [not null, ref: > Users.id]
    score               int
    comments            text
}

Table Interview_Schedule {
    id                  serial [pk]
    application_id      int [not null, ref: > Applications.id]
    hr_id               int [not null, ref: > Users.id]
    candidate_id        int [not null, ref: > Users.id]
    time                timestamp [not null]
    address             varchar(100) [not null]
    status              varchar(50) [default: 'scheduled']
    feedback            text
}

Table Chat {
    id                  serial [pk]
    sender_id           int [not null, ref: > Users.id]
    receiver_id         int [not null, ref: > Users.id]
    message             text [not null]
    sent_at             timestamp [default: `now()`]
    is_read             boolean [default: false]
}

Table Notifications {
    id                  serial [pk]
    user_id             int [not null, ref: > Users.id]
    message             text [not null]
    type                varchar(50)
    created_at          timestamp [default: `now()`]
    is_read             boolean [default: false]
}

Table Email_Notifications {
    id              serial [pk]
    recipient_id    int [not null, ref: > Users.id]
    subject         varchar(255) [not null]
    body            text [not null]
    sent_at         timestamp [default: `now()`]
    status          varchar(50) [default: 'pending'] // pending, sent, failed
}


Table Reports {
    id              serial [pk]
    generated_by    int [not null, ref: > Users.id]
    report_type     varchar(50) [not null] // e.g., candidates, job_postings
    generated_at    timestamp [default: `now()`]
    report_data     jsonb [not null]
    report_file     varchar(255) // path
}
